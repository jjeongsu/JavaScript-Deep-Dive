# 함수와 일급 객체

## 일급 객체

아래의 조건을 모두 만족하는 객체를 일급객체라 한다.

- 무명 리터럴로 생성할 수 있다. (즉, 런터임에 생성이 가능)
- 변수, 자료구조(객체, 배열)에 저장할 수 있다.
- 함수의 매개변수로 전달할 수 있다.
- 함수의 반환값으로 사용할 수 있다.

**Js의 함수는 일급객체다**

- "함수는 일급객체"란 말은 함수를 객체와 동일하게 사용할 수 있다는 뜻
- 객체는 값으로 취급됨으로 함수도 값과 동일하게 취급이 가능. 따라서 값을 사용할수 있는 곳에서는 어디든지 리터럴로 정의할 수 있고, 런타임에 함수 객체로 평가된다.
- 함수 !== 일반객체로 구별할 수 있는 점은 (1) 함수는 호출이 가능하고 (2) 함수는 고유의 프로퍼티를 소유한다.

<hr />

## 함수 객체의 프로퍼티

함수가 객체로써 가진 프로퍼티는 console.dir메서드를 사용하여 확인할 수 있다.

- arguments, caller, length, name, prototype프로퍼티는 함수 객체의 데이터 프로퍼티다
- `__proto__`는 접근자 프로퍼티이며, 함수 객체 고유의 프로퍼티가 아니라 Object.prototype객체의 프로퍼티를 상속받은 것이다.

### `argument`프로퍼티

- argument 프로퍼티는 **함수 호출시 전달된 인수들의 정보를 담고있는 순회가능한 유사배열** 객체이다.
- 함수 내부에서 지역변수로 사용된다. (외부 참조 불가)
- 매개변수는 몸체 내부에서 변수와 동일하게 취급된다.
  - 함수 호출시 몸체 내부에서 암묵적으로 매개변수 선언, Undefined의 초기화, 인수 할당이 이루어진다.
  - 매개변수를 선언된 갯수보다 적게 전달하면 undefined로 초기화된 상태를 유지한다.
  - 초과로 전달된 인수는 무시된다.(단, argument 객체의 프로퍼티로는 계속 남아있다.)

```javascript
function multiply(x, y) {
  console.log(arguments);
  return x * y;
}

console.log(1, 2);

// 출력 내용
/**
Arguments(2) [1, 2, callee: ƒ, Symbol(Symbol.iterator): ƒ]

  // 인수에 관한 정보
  0: 1
  1: 2

  callee: ƒ multiply(x,y)
  length: 2
  Symbol(Symbol.iterator): ƒ values()
  [[Prototype]]: Object
*/
```

- argument객체는 매개변수로 전달된 1,2를 프로퍼티의 값으로 저장
- callee : 호출된 함수(자기자신)
- length : 인수의 갯수

**arguments 객체는매개변수의 갯수를 확정할 수 없는 가변인자함수를 구현시 유용하다**

```javascript
function sum() {
  let res = 0;

  // length 프로퍼티를 가진 유사비열이므로 for문으로 순회 ✅
  for (let i = 0; i < arguments.length; i++) {
    res += arguments[i];
  }

  return res;
}
```

cf) 이러터블과 유사객체

- ES6에서 도입된 이터레이션 프로토콜을 준수하면 이터러블이 된다. ES5에서는 이터러블의 개념이 없었기에 arguments는 유사배열 객체로 분류
- ES6부터는 arguments객체는 유사배열객체 & 이터러블

```javascript
function sum(...args) {
  return args.reduce((pre, cur) => pre + cur, 0);
}
```

### length 프로퍼티

함수를 정의할 때 선언한 매개변수의 갯수

### name 프로퍼티

- 함수이름
- ES5, ES6에서 각자 동작이 다르다.
  - ES5 : 익명함수 표현식일 경우 빈 문자열
  - ES6 : 익명함수 표현식 일 경우 함수객체를 가리키는 변수이름
  - 🌟 함수이름 !== 함수객체를 가리키는 식별자
  - (함수 호출시 함수 이름이 아닌 식별자로 호출함을 잊지 말자~)

### `__proto__` 접근자 프로퍼티

- 모든 객체는 [[Prototype]] 이라는 내부 슬롯을 갖는데, 이것은 상속을 구현하는 프로토타입 객체를 가리킨다.
- `__proto__` 프로퍼티는 [[Prototype]]내부슬롯이 가리ㅣ는 프로토타입 객체에 접근하기 위해 사용하는 접근자 프로퍼티이다.

### prototype 프로퍼티

- 생성자 함수로 호출할 수 있는 함수 객체
  ( constructor 만이 이 프로퍼티를 가진다.)
